<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tijera, Papel, Roca</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="icon" href="https://cdn-icons-png.flaticon.com/128/3040/3040112.png" type="image/x-icon">
</head>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.2/jquery.min.js"></script>
<style>
    body {
        font-family: sans-serif;
        background-color:#FF5733;
        color: #fff;
        text-align: center;
        margin: 0px;
        padding: 0px;
    }
    .animate__animated.animate__rotateIn {
  --animate-duration: 3s;
}
    h1 {
        font-size: 36px;
        margin-bottom: 20px;
    }

    p {
        font-size: 20px;
    }

    button {
        background-color: transparent;
        border: none;
        cursor: pointer;
        margin: 10px;
        padding: 0;
    }

    img {
        width: 100px;
        height: 100px;
    }

    #resultado {
        font-size: 24px;
        margin: 20px 0;
    }

    h2 {
        font-size: 24px;
        margin-top: 20px;
    }

    ul {
        list-style: none;
        padding: 0;
    }

    li {
        font-size: 18px;
        margin: 5px;
    }
    button:hover {
  animation-name: bounce;
  animation-duration: 0.4s;
  animation-timing-function: ease-in-out;
  animation-delay: 0s;
  animation-direction: alternate;
  animation-iteration-count: 3s;
  animation-fill-mode: forwards;
  animation-play-state: running;
}

@keyframes bounce {
  0%,
  100% {
    transform: scale(1);
  }
  25%,
  75% {
    transform: scale(0.9);
  }
  50% {
    transform: scale(1.1);
  }
}
</style>
<body >
    <div  id="gradient">
        <h1 class="animate__animated animate__backInDown">Piedra, papel o tijeras</h1>
        <p class="animate__animated animate__backInDown"><strong>Tu vs la Computadora</strong></p>
        <p class="animate__animated animate__backInDown">Lanza tu jugada</p>
        <button class="animate__animated animate__rotateIn"><img src="https://cdn-icons-png.flaticon.com/128/4405/4405457.png" alt="" id="Roca"></button>
        <button class="animate__animated animate__rotateIn"><img src="https://cdn-icons-png.flaticon.com/128/2541/2541988.png" alt="" id="Papel"></button>
        <button class="animate__animated animate__rotateIn"><img src="https://cdn-icons-png.flaticon.com/128/1019/1019534.png" alt="" id="Tijera"></button>

        <p class="animate__animated animate__backInDown" id="resultado"></p>

        <h2 class="animate__animated animate__backInDown">Historial de jugadas:</h2>
        <ul class="animate__animated animate__backInDown" id="historial"></ul>
    </div>

    <script>
        const Roca = document.getElementById('Roca')
        const Papel = document.getElementById('Papel')
        const Tijera = document.getElementById('Tijera')
        const resultado = document.getElementById('resultado')
        const historialList = document.getElementById('historial')
        const historial = []

        let opcionJugador
        let ataqueCom

        Roca.addEventListener('click', function(){
        opcionJugador = "Roca"
        opcionComp()
        })

        Papel.addEventListener('click', function(){
        opcionJugador = "Papel"
        opcionComp()
        })

        Tijera.addEventListener('click', function(){
        opcionJugador = "Tijera"
        opcionComp()
        })

        function opcionComp(){
            var Aleatorio = Aleatorio2()
            if (Aleatorio == 0){
                ataqueCom = 'Roca'
        }else if (Aleatorio == 1) {
            ataqueCom ='Papel'
        }else if(Aleatorio == 2){
            ataqueCom='Tijera'
        }
        saberquiengana()
        guardarHistorial(opcionJugador, ataqueCom)
        }

        function saberquiengana(){
            if(opcionJugador === ataqueCom){
                resultado.innerHTML= `Elegiste ${opcionJugador} La Computadora eligio ${ataqueCom} Empate`
            }else if(opcionJugador == "Roca" && ataqueCom == "Tijera"){
                    resultado.innerHTML = `Elegiste ${opcionJugador} La Computadora eligio ${ataqueCom} Ganaste!`
            }else if(opcionJugador == "Papel" && ataqueCom == "Roca"){
                    resultado.innerHTML = `Elegiste ${opcionJugador} La Computadora eligio ${ataqueCom} Ganaste!`
            }else if(opcionJugador == "Tijera" && ataqueCom == "Papel"){
                    resultado.innerHTML = `Elegiste ${opcionJugador} La Computadora eligio ${ataqueCom} Ganaste!`
            }else{
                    resultado.innerHTML = `Elegiste ${opcionJugador} La Computadora eligio ${ataqueCom} Perdiste`
            }
        }

        function Aleatorio2(){
            let n = Math.floor(Math.random() * 3)
            return n
        }

        function guardarHistorial(jugador, computadora) {
            let resultadoTexto = ""
            if(jugador === computadora){
                resultadoTexto = `Empate`
            }else if(jugador == "Roca" && computadora == "Tijera"){
                resultadoTexto = `Ganaste!`
            }else if(jugador == "Papel" && computadora == "Roca"){
                resultadoTexto = `Ganaste!`
            }else if(jugador == "Tijera" && computadora == "Papel"){
                resultadoTexto = `Ganaste!`
            }else{
                resultadoTexto = `Perdiste`
            }
            historial.unshift({
                jugador: jugador,
                computadora: computadora,
                resultado: resultadoTexto
            })

            if (historial.length > 5) {
                historial.pop()
            }

            actualizarHistorial()
        }

        function actualizarHistorial() {
            historialList.innerHTML = ""
            historial.forEach(entry => {
                const listItem = document.createElement("li")
                listItem.textContent = `Tu: ${entry.jugador} vs Computadora: ${entry.computadora} (${entry.resultado})`
                historialList.appendChild(listItem)
            })
        }

        
    </script>
</body>
</html>